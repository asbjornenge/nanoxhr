!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.nanoxhr=t()}}(function(){return function t(e,n,i){function r(s,u){if(!n[s]){if(!e[s]){var h="function"==typeof require&&require;if(!u&&h)return h(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return r(n?n:t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){function n(t){if("string"!=typeof t){var e=[];for(var n in t)e.push(n+"="+t[n]);t=e.join("&")}return t}var i=function(t){this.req=new XMLHttpRequest,this.url=t,this._async=!0,this._data=null,this._method="GET",this._headers={},this.callback_called=!1};i.prototype.method=function(t){return this._method=t,this},i.prototype.set=function(t,e){return this._headers[t]=e,this},i.prototype.query=function(t){return this.url+="?"+n(t),this},i.prototype.data=function(t){return this._data=t,this},i.prototype.timeout=function(t){return this._timeout=t,this},i.prototype.respond=function(t){this.callback_called||(t(this.req),this.callback_called=!0)},i.prototype.sync=function(t){return this._async=!1,this.call(t)},i.prototype.call=function(t){this.callback_called=!1,this.req.onload=function(){this.respond(t)}.bind(this),this.req.onerror=function(){this.respond(t)}.bind(this),this.req.ontimeout=function(){this.respond(t)}.bind(this),this._timeout&&(this.req.timeout=this._timeout),this.req.open(this._method,this.url,this._async);for(var e in this._headers)this.req.setRequestHeader(e,this._headers[e]);try{this.req.send(n(this._data))}catch(i){this.respond(t)}return this},e.exports=function(t){return new i(t)}},{}]},{},[1])(1)});